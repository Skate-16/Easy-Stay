<% layout("/layouts/boilerplate") -%>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Pacifico&family=Playwrite+DE+Grund:wght@100..400&display=swap" rel="stylesheet">

<style>
    body {
        background-image: url('../images/bg-img-2.jpg') !important;
    }
    
    .home {
        backdrop-filter: blur(5px) !important;
        border: 2px solid rgba(0, 0, 0, 0.1);
        border-radius: 15px;
        box-shadow: 0 15px 15px rgba(0, 0, 0, 0.5);
        align-items: center;
        text-align: center;
    }

    .h4 {
        font-size: 30px;
        color: rgba(241, 227, 227);
    }

    .home-explore {
        text-decoration: none;
        color: #fe424d;
        transition: 0.3s;
    }

    .home-explore:hover {
        font-size: 32px !important;
    }

    .home-videos {
        display: flex;
        flex-wrap: wrap; 
        justify-content: center; 
        gap: 20px; 
    }

    .video-thumbnail, video {
        display: block;
        height: 175px;
        width: 300px;
        border: 3px solid rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        margin: 1.5rem;
        object-fit: cover; /* Ensures thumbnails and videos maintain their aspect ratio */
        cursor: pointer; /* Makes thumbnails clickable */
    }

    @media (max-width: 768px) {
        .home {
            padding: 1rem; 
        }

        .home-videos {
            flex-direction: column; 
            gap: 15px;
        }

        .video-thumbnail, video {
            width: 100%; 
            height: auto; 
            max-width: 350px;
            margin: 1rem auto; 
        }
    }

    .pacifico-regular {
        font-family: "Pacifico", cursive;
        font-weight: 500;
        font-style: normal;
        font-size: 50px;
        color: rgba(241, 227, 227);
    }
</style>

<div class="row">
    <div class="col-8 offset-2">
        <div class="home mt-5 mb-3">
            <br>
            <h1 class="pacifico-regular">Welcome to Easy Stay!</h1><br>
            <h4 class="h4">
                <a class="home-explore" href="/listings">
                    <i><b>Explore</b> </i>
                </a>
                our amazing locations!!
            </h4>
            <div class="home-videos">
                <!-- Thumbnails that load first -->
                <img class="video-thumbnail" src="../images/img-2.avif" data-video="../images/mountains.mp4" alt="Mountains">
                <img class="video-thumbnail" src="../images/img-4.avif" data-video="../images/farms.mp4" alt="Farms">
            </div>
            <p class="ms-auto h4" 
                style="color: rgba(241, 227, 227); font-size: 25px !important;text-align: end;margin-right: 1.5rem;">
                <i>and many more...!</i>
            </p>
            <br>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.video-thumbnail').forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
            const videoSrc = this.getAttribute('data-video');
            const videoElement = document.createElement('video');
            videoElement.setAttribute('src', videoSrc);
            videoElement.setAttribute('controls', 'true');
            videoElement.setAttribute('autoplay', 'true');
            videoElement.setAttribute('loop', 'true');
            videoElement.setAttribute('muted', 'true');
            videoElement.style.cssText = this.style.cssText; // Apply the same styling
            this.replaceWith(videoElement);
        });
    });
</script>
